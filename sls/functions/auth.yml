signUp:
  handler: src/main/functions/auth/signUp.handler
  events:
    - httpApi:
        method: POST
        path: /auth/sign-up

signIn:
  handler: src/main/functions/auth/signIn.handler
  events:
    - httpApi:
        method: POST
        path: /auth/sign-in

refreshToken:
  handler: src/main/functions/auth/refreshToken.handler
  events:
    - httpApi:
        method: POST
        path: /auth/refresh-token

forgotPassword:
  handler: src/main/functions/auth/forgotPassword.handler
  events:
    - httpApi:
        method: POST
        path: /auth/forgot-password

confirmForgotPassword:
  handler: src/main/functions/auth/confirmForgotPassword.handler
  events:
    - httpApi:
        method: POST
        path: /auth/forgot-password/confirm

preSignUpTrigger:
  handler: src/main/functions/auth/cognito/preSignUpTrigger.handler
  events:
    - cognitoUserPool:
        pool: ${self:custom.cognito.PoolName}
        trigger: PreSignUp
        existing: true
        forceDeploy: true

customMessageTrigger:
  handler: src/main/functions/auth/cognito/customMessageTrigger.handler
  events:
    - cognitoUserPool:
        pool: ${self:custom.cognito.PoolName}
        trigger: CustomMessage
        existing: true
        forceDeploy: true

# The trigger was configured mannually so that we can have access to Cognito Trigger Event Version 2 (V2)
# This is why there is nothing but the handler here, it is configured in the file UserPool.yml
# in the prop LambdaConfig and preTokenGenerationConfig
# If the name of the function change then the same name must be used in the UserPool.yml LambdaArn
preTokenGenerationTrigger:
  handler: src/main/functions/auth/cognito/preTokenGenerationTrigger.handler
